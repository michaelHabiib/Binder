import{b as O}from"./chunk-FLDMDET7.js";import{a as et}from"./chunk-J7CT4NDY.js";import{A as m,Ba as W,C as p,Ca as j,Da as A,E as g,Ea as H,F as T,Fa as N,Ga as $,Ha as B,Ia as V,Ja as z,Ka as q,L as I,La as G,M as R,Ma as J,Na as K,Oa as Q,Pa as b,Ua as U,V as k,b as tt,e as x,g as y,h as w,i as S,j as v,l,m as E,p as f,q as L,r as c,s as r,t as a,ta as P,u,v as h,w as C,x as F,y as D,z as d}from"./chunk-2G5EOLPP.js";var M=tt(et());function it(t,e){t&1&&(r(0,"th",17),m(1," Name "),a())}function ot(t,e){if(t&1&&(r(0,"td",18),m(1),a()),t&2){let n=e.$implicit;l(),p(" ",n.courseName," ")}}function nt(t,e){t&1&&(r(0,"td",19),m(1," Total "),a())}function rt(t,e){t&1&&(r(0,"th",17),m(1," Author "),a())}function at(t,e){if(t&1&&(r(0,"td",18),m(1),a()),t&2){let n=e.$implicit;l(),p(" ",n.author," ")}}function st(t,e){t&1&&u(0,"td",20)}function mt(t,e){t&1&&(r(0,"th",17),m(1," Price "),a())}function lt(t,e){if(t&1&&(r(0,"td",18),m(1),a()),t&2){let n=e.$implicit;l(),p(" ",n.priceAfterDiscount," \u20B9 ")}}function ct(t,e){if(t&1&&(r(0,"td",20),m(1),a()),t&2){let n=d();l(),p(" ",n.getTotalCost()," \u20B9")}}function dt(t,e){t&1&&(r(0,"th",17),m(1," Saving "),a())}function pt(t,e){if(t&1&&(r(0,"td",18),m(1),g(2,"number"),a()),t&2){let n=e.$implicit,i=d();l(),p(" ",T(2,1,i.removeFirstLetter(n.actualPrice)-n.priceAfterDiscount,"1.2")," \u20B9 ")}}function ft(t,e){if(t&1&&(r(0,"td",20),m(1),g(2,"number"),a()),t&2){let n=d();l(),p(" ",T(2,1,n.getTotalSaving(),"1.2")," \u20B9")}}function ut(t,e){t&1&&(r(0,"th",17),m(1," Actions "),a())}function ht(t,e){if(t&1){let n=F();r(0,"td",18)(1,"div",21)(2,"div",22)(3,"i",23),D("click",function(){let s=S(n).$implicit,_=d();return v(_.TogglewishList(s))}),a()(),r(4,"div",24)(5,"i",25),D("click",function(){let s=S(n).$implicit,_=d();return v(_.removeFromCart(s.id))}),a()()()()}if(t&2){let n=e.$implicit,i=d();l(3),L("clicked",i.isCourseInWishlist(n)),f("matTooltip",i.isCourseInWishlist(n)?"Remove From Wish List":"Add To Wish List")}}function Ct(t,e){t&1&&u(0,"td",20)}function _t(t,e){t&1&&u(0,"tr",26)}function xt(t,e){t&1&&u(0,"tr",27)}function wt(t,e){t&1&&u(0,"tr",28)}var Y=(()=>{let e=class e{constructor(i){this._DashboardService=i,this.Courses=[],this.wishList=[],this.dataSource=new b([]),this.displayedColumns=["name","author","price","saving","action"]}ngOnInit(){this._DashboardService.getCart().subscribe(i=>{this.Courses=i,this.dataSource=new b(i)}),this._DashboardService.getWishList().subscribe(i=>{this.wishList=i})}removeFirstLetter(i){return typeof i!="string"||i.length===0?0:Number(i.substring(1))}getTotalCost(){return this.Courses.map(i=>i.priceAfterDiscount).reduce((i,o)=>i+o,0)}getTotalSaving(){return this.Courses.reduce((i,o)=>i+(this.removeFirstLetter(o.actualPrice)-o.priceAfterDiscount),0)}TogglewishList(i){this.wishList.some(s=>s.id===i.id)?(this.wishList=this.wishList.filter(s=>s.id!==i.id),this._DashboardService.setwishlist(this.wishList)):(this.Courses=this.Courses.filter(s=>i.id!==s.id),this._DashboardService.setCart(this.Courses),this.wishList.push(i),this._DashboardService.setwishlist(this.wishList))}isCourseInWishlist(i){return this.wishList.some(s=>s.id===i.id)}removeFromCart(i){this.Courses=this.Courses.filter(o=>i!==o.id),this._DashboardService.setCart(this.Courses)}checkout(){M.default.fire({text:"Please Confirm your Order"}).then(i=>{i.isConfirmed?(this.Courses=[],this._DashboardService.setCart(this.Courses)):i.isDenied&&M.default.close()})}};e.\u0275fac=function(o){return new(o||e)(E(O))},e.\u0275cmp=y({type:e,selectors:[["app-checkout"]],decls:30,vars:4,consts:[[1,"example-container"],[1,"text-center"],["mat-table","",1,"mat-elevation-z8","mt-2",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","table-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","","class","col-span-2",4,"matFooterCellDef"],["matColumnDef","author"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","price"],["matColumnDef","saving"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],[1,"d-flex","justify-content-end","mt-2","me-2"],[1,"btn","btn-success",3,"click"],["mat-header-cell","",1,"table-header"],["mat-cell",""],["mat-footer-cell","",1,"col-span-2"],["mat-footer-cell",""],[1,"d-flex","justify-content-center","align-items-center"],[1,"d-flex","me-2"],[1,"fa","fs-5","pt-2","fa-regular","fa-heart",3,"matTooltip","click"],["matT","",1,"d-flex","ms-2"],["matTooltip","Delete Course",1,"fa","fa-solid","fa-trash","fs-3","text-danger",3,"click"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(o,s){o&1&&(r(0,"section",0)(1,"h2",1),m(2,"Order Summery"),a(),r(3,"table",2),h(4,3),c(5,it,2,0,"th",4)(6,ot,2,1,"td",5)(7,nt,2,0,"td",6),C(),h(8,7),c(9,rt,2,0,"th",4)(10,at,2,1,"td",5)(11,st,1,0,"td",8),C(),h(12,9),c(13,mt,2,0,"th",4)(14,lt,2,1,"td",5)(15,ct,2,1,"td",8),C(),h(16,10),c(17,dt,2,0,"th",4)(18,pt,3,4,"td",5)(19,ft,3,4,"td",8),C(),h(20,11),c(21,ut,2,0,"th",4)(22,ht,6,3,"td",5)(23,Ct,1,0,"td",8),C(),c(24,_t,1,0,"tr",12)(25,xt,1,0,"tr",13)(26,wt,1,0,"tr",14),a(),r(27,"div",15)(28,"button",16),D("click",function(){return s.checkout()}),m(29,"Checkout"),a()()()),o&2&&(l(3),f("dataSource",s.dataSource),l(21),f("matHeaderRowDef",s.displayedColumns),l(),f("matRowDefColumns",s.displayedColumns),l(),f("matFooterRowDef",s.displayedColumns))},dependencies:[P,W,A,z,N,j,G,H,q,$,V,B,J,Q,K,I],styles:[".table-header[_ngcontent-%COMP%]{background-color:#e96a5f!important;color:#fff}.fa-heart.clicked[_ngcontent-%COMP%]{color:#ffd52b}i[_ngcontent-%COMP%]{cursor:pointer}.example-container[_ngcontent-%COMP%]{height:auto;width:100%;max-width:100%;overflow:auto}table[_ngcontent-%COMP%]{width:100%!important}tr.mat-mdc-footer-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700}"]});let t=e;return t})();var Dt=[{path:"",component:Y}],Z=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=w({type:e}),e.\u0275inj=x({imports:[k.forChild(Dt),k]});let t=e;return t})();var Ot=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=w({type:e}),e.\u0275inj=x({imports:[R,Z,U]});let t=e;return t})();export{Ot as CheckoutModule};
